function preventFullscreenExit(){const e=document.createElement("div");e.className="top-barrier",e.style.position="fixed",e.style.top="-10px",e.style.left="0",e.style.width="100%",e.style.height="200px",e.style.backgroundColor="transparent",e.style.zIndex="2147483647",e.style.pointerEvents="auto";const n=document.createElement("div");n.className="fake-header",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="150px",n.style.backgroundColor="transparent",n.style.zIndex="2147483646";const t=document.createElement("div");t.className="close-button-blocker",t.style.position="fixed",t.style.top="-50px",t.style.right="0",t.style.width="100px",t.style.height="150px",t.style.backgroundColor="transparent",t.style.zIndex="2147483647",t.style.pointerEvents="auto";const r=document.createElement("div");r.className="window-controls-blocker",r.style.position="fixed",r.style.top="0",r.style.right="0",r.style.width="200px",r.style.height="50px",r.style.backgroundColor="transparent",r.style.zIndex="2147483647",r.style.pointerEvents="auto",document.querySelector(".top-barrier")||document.body.appendChild(e),document.querySelector(".fake-header")||document.body.appendChild(n),document.querySelector(".close-button-blocker")||document.body.appendChild(t),document.querySelector(".window-controls-blocker")||document.body.appendChild(r),e.addEventListener("mouseenter",forceFullscreenOnBarrierHover),e.addEventListener("mousemove",forceFullscreenOnBarrierHover),t.addEventListener("mouseenter",forceFullscreenOnBarrierHover),t.addEventListener("mousemove",forceFullscreenOnBarrierHover),r.addEventListener("mouseenter",forceFullscreenOnBarrierHover),r.addEventListener("mousemove",forceFullscreenOnBarrierHover);const s=document.createElement("style");s.innerHTML='\n    /* Only hide cursor when in fullscreen mode */\n    .fullscreen-active * {\n      cursor: none !important;\n    }\n    \n    .fullscreen-active html, \n    .fullscreen-active body {\n      cursor: none !important;\n    }\n    \n    /* Ensure that hover states don\'t change cursor */\n    .fullscreen-active *:hover {\n      cursor: none !important;\n    }\n    \n    /* Also handle all standard cursor styles */\n    .fullscreen-active .pointer, \n    .fullscreen-active [style*="cursor: pointer"], \n    .fullscreen-active [style*="cursor:pointer"] {\n      cursor: none !important;\n    }\n    \n    .fullscreen-active .default, \n    .fullscreen-active [style*="cursor: default"], \n    .fullscreen-active [style*="cursor:default"] {\n      cursor: none !important;\n    }\n    \n    .fullscreen-active .text, \n    .fullscreen-active [style*="cursor: text"], \n    .fullscreen-active [style*="cursor:text"] {\n      cursor: none !important;\n    }\n    \n    /* Ensure that even newly added elements get the cursor: none property */\n    @keyframes disableCursorForNewElements {\n      from { cursor: none !important; }\n      to { cursor: none !important; }\n    }\n    \n    .fullscreen-active * {\n      animation: disableCursorForNewElements 0.001s forwards;\n    }\n  ',document.querySelector("style#cursor-hider")||(s.id="cursor-hider",document.head.appendChild(s)),isInFullscreen()?(hideCursorOnAllElements(),document.body.classList.add("fullscreen-active")):(showCursorOnAllElements(),document.body.classList.remove("fullscreen-active"))}function hideCursorOnAllElements(){const e=document.getElementsByTagName("*");for(let n=0;n<e.length;n++)e[n].style.cursor="none";document.documentElement.style.cursor="none",document.body.style.cursor="none"}function showCursorOnAllElements(){const e=document.getElementsByTagName("*");for(let n=0;n<e.length;n++)e[n].style.cursor="";document.documentElement.style.cursor="",document.body.style.cursor=""}function isInFullscreen(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}function forceFullscreenOnBarrierHover(e){return e.preventDefault(),e.stopPropagation(),forceFullscreen(),!1}function forceFullscreen(){const e=document.documentElement;try{e.requestFullscreen?e.requestFullscreen({navigationUI:"hide"}):e.mozRequestFullScreen?e.mozRequestFullScreen({navigationUI:"hide"}):e.webkitRequestFullscreen?e.webkitRequestFullscreen({navigationUI:"hide"}):e.msRequestFullscreen&&e.msRequestFullscreen({navigationUI:"hide"}),setTimeout((()=>{document.body.classList.add("fullscreen-active"),hideCursorOnAllElements()}),100),tryPointerLock()}catch(n){console.error("Error attempting fullscreen:",n);try{e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}catch(e){}}}function tryPointerLock(){const e=document.documentElement;try{e.requestPointerLock?e.requestPointerLock():e.mozRequestPointerLock?e.mozRequestPointerLock():e.webkitRequestPointerLock&&e.webkitRequestPointerLock()}catch(e){console.error("Error attempting pointer lock:",e)}}function setupMouseTracking(){document.addEventListener("mousemove",(function(e){if(isInFullscreen()&&(e.clientY<150||e.clientY<50&&e.clientX>window.innerWidth-200||e.clientY<50&&e.clientX<200))try{e.preventDefault(),e.stopPropagation(),forceFullscreen(),document.body.classList.add("fullscreen-active"),hideCursorOnAllElements()}catch(e){}})),document.addEventListener("mousedown",(function(e){if(isInFullscreen()&&e.clientY<150)return e.preventDefault(),e.stopPropagation(),forceFullscreen(),!1}))}function preventEscapeKey(){document.addEventListener("keydown",(function(e){return"Escape"===e.key||27===e.keyCode?(e.preventDefault(),e.stopPropagation(),setTimeout(forceFullscreen,100),!1):"F11"===e.key||122===e.keyCode?(e.preventDefault(),e.stopPropagation(),forceFullscreen(),!1):void 0}),!0)}function setupFullscreenChangeListeners(){document.addEventListener("fullscreenchange",(function(){document.fullscreenElement?(hideCursorOnAllElements(),document.body.classList.add("fullscreen-active")):setTimeout(forceFullscreen,100)})),document.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement?(hideCursorOnAllElements(),document.body.classList.add("fullscreen-active")):setTimeout(forceFullscreen,100)})),document.addEventListener("mozfullscreenchange",(function(){document.mozFullScreenElement?(hideCursorOnAllElements(),document.body.classList.add("fullscreen-active")):setTimeout(forceFullscreen,100)})),document.addEventListener("MSFullscreenChange",(function(){document.msFullscreenElement?(hideCursorOnAllElements(),document.body.classList.add("fullscreen-active")):setTimeout(forceFullscreen,100)}))}function setupFullscreenProtection(){preventFullscreenExit(),setupMouseTracking(),preventEscapeKey(),setupFullscreenChangeListeners(),showCursorOnAllElements(),document.body.classList.remove("fullscreen-active"),setInterval((function(){preventFullscreenExit(),isInFullscreen()?(hideCursorOnAllElements(),document.body.classList.add("fullscreen-active")):(showCursorOnAllElements(),document.body.classList.remove("fullscreen-active"))}),500)}function setupMutationObserver(){new MutationObserver((function(e){e.forEach((function(e){e.addedNodes&&e.addedNodes.length>0&&hideCursorOnAllElements()}))})).observe(document.documentElement,{childList:!0,subtree:!0})}document.addEventListener("DOMContentLoaded",(function(){setupFullscreenProtection(),setupMutationObserver(),showCursorOnAllElements(),document.body.classList.remove("fullscreen-active")})),document.addEventListener("click",(function(e){isInFullscreen()||forceFullscreen()})),document.addEventListener("mousedown",(function(){}),{once:!0}),window.addEventListener("focus",(function(){isInFullscreen()?(document.body.classList.add("fullscreen-active"),hideCursorOnAllElements()):(document.body.classList.remove("fullscreen-active"),showCursorOnAllElements())}));